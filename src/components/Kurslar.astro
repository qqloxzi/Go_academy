---
import BaseLayout from '../layouts/BaseLayout.astro';

const rawPosts = await Astro.glob('../pages/kurslar/*.md');
const pageTitle = "Eğitim Planları";
const allPosts = rawPosts.slice(0, 3); 
---

  
  <h1 class="blog-page-title">{pageTitle}</h1>

  <ul class="blog-list">
    {allPosts.map((post) => (
      <li class="card blog-item"> 
        <a href={post.url} class="blog-link">
          {post.frontmatter.image && (
            <img src={post.frontmatter.image}  class="blog-image" alt={post.frontmatter.title} />
          )}
          <div class="blog-content">
            <h2 class="blog-post-title">{post.frontmatter.title}</h2>
            <p class="blog-description">{post.frontmatter.description}</p>
            
            {post.frontmatter.maddeler && Array.isArray(post.frontmatter.maddeler) && (
              <ul class="kart-maddeleri">
                {post.frontmatter.maddeler.map((madde) => (
                  <li>{madde}</li>
                ))}
              </ul>
            )}
          </div>
        </a>
      </li>
    ))}
  </ul>

  <a href="/lig" class="cta-box">
    <h3>Agora Online Lig</h3>
    <p>Lig formatındaki eğitim hakkında daha fazlası</p>
  </a>

  <style>
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .blog-page-title,
    .blog-list li,
    .cta-box {
      opacity: 0;
      animation-name: fadeInUp;
      animation-duration: 1s;
      animation-timing-function: ease-out;
      animation-fill-mode: forwards;
    }
    
    .blog-page-title { animation-delay: 1.8s; }
    .blog-list li:nth-child(1) { animation-delay: 0.9s; }
    .blog-list li:nth-child(2) { animation-delay: 1.1s; }
    .blog-list li:nth-child(3) { animation-delay: 1.3s; }
    .cta-box { animation-delay: 1.5s; }

    .blog-item {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      text-align: center;
    }
    .blog-content {
      flex-grow: 1; 
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    
    .kart-maddeleri {
      list-style-type: disc; 
      list-style-position: inside; 
      padding-left: 0; 
      margin: 20px auto 0;
      font-size: 0.9rem; 
      color: #555; 
      max-width: 90%;
      text-align: left;
    }
    .kart-maddeleri li {
      margin-bottom: 4px; 
      padding: 0; 
      background-color: transparent; 
      border: none;
      transition: none;
    }
    .kart-maddeleri li:hover { background-color: transparent; } 
    
    html.dark .kart-maddeleri { 
      color: #ccc; 
    }
    html.dark .kart-maddeleri li {
      background-color: transparent;
      border: none;
    }
    html.dark .kart-maddeleri li:hover { 
      background-color: transparent; 
    }


    .cta-box {
      display: block; max-width: 700px;
      margin: 50px auto 0 auto; padding: 25px 30px;
      background-color: #fffbeb; /* Açık krem/altın */
      border: 1px solid #f9a825; /* Altın kenarlık */
      border-radius: 12px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      text-align: center; text-decoration: none; color: inherit;
      transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    }
    .cta-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      border-color: #facc15; /* Daha parlak altın */
    }
    .cta-box h3 {
      margin-top: 0; margin-bottom: 10px;
      font-size: 1.5rem; 
      color: #78350f; /* Koyu kahverengi/altın */
    }
    .cta-box p { 
      margin: 0; font-size: 1rem; 
      color: #92400e; /* Orta kahverengi/altın */
    }

    /* KOYU TEMA ALTIN KUTU */
    html.dark .cta-box {
      background-color: #2a200a; /* Koyu altın/kahve */
      border-color: #785a0c; /* Koyu altın kenarlık */
    }
    html.dark .cta-box h3 { 
      color: #fde047; /* Parlak altın yazı */
    }
    html.dark .cta-box p { 
      color: #fef9c3; /* Açık altın yazı */
    }
    html.dark .cta-box:hover { 
      border-color: #facc15; /* Parlak altın hover */
    }
 
    .blog-list li:nth-child(1).blog-item {
      background-color: #fff5f5; 
    }
    html.dark .blog-list li:nth-child(1).blog-item {
      background-color: #2a1f1f; 
    }

    .blog-list li:nth-child(2).blog-item {
      background-color: #f0f9ff; 
    }
    html.dark .blog-list li:nth-child(2).blog-item {
      background-color: #1e2533; 
    }

    .blog-list li:nth-child(3).blog-item {
      background-color: #f0fdf4; 
    }
    html.dark .blog-list li:nth-child(3).blog-item {
      background-color: #1f2a23; 
    }
  </style>
